{"ast":null,"code":"import consumer from \"./consumer\"; // consumer.subscriptions.create(\"ChatroomChannel\", {\n//   connected() {\n//     // Called when the subscription is ready for use on the server\n//   },\n//   disconnected() {\n//     // Called when the subscription has been terminated by the server\n//   },\n//   received(data) {\n//     console.log(\"received\");\n//     $('#message-container').append(data.mod_message)\n//     scroll_bottom()\n//   }\n// });\n\nconsumer.subscriptions.create({\n  channel: \"ChatroomChannel\",\n  room: \"Best Room\"\n}, {\n  received: function received(data) {\n    this.appendLine(data);\n  },\n  appendLine: function appendLine(data) {\n    var html = this.createLine(data);\n    var element = document.querySelector(\"[data-chat-room='Best Room']\");\n    element.insertAdjacentHTML(\"beforeend\", html);\n  },\n  createLine: function createLine(data) {\n    return \"\\n      <article class=\\\"chat-line\\\">\\n        <span class=\\\"speaker\\\">\".concat(data[\"sent_by\"], \"</span>\\n        <span class=\\\"body\\\">\").concat(data[\"body\"], \"</span>\\n      </article>\\n    \");\n  }\n});","map":{"version":3,"sources":["/Users/flobiz/projects/ruby/message_me/app/javascript/channels/chatroom_channel.js"],"names":["consumer","subscriptions","create","channel","room","received","data","appendLine","html","createLine","element","document","querySelector","insertAdjacentHTML"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB,C,CAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AACAA,QAAQ,CAACC,aAAT,CAAuBC,MAAvB,CAA8B;AAAEC,EAAAA,OAAO,EAAE,iBAAX;AAA8BC,EAAAA,IAAI,EAAE;AAApC,CAA9B,EAAiF;AAC/EC,EAAAA,QAD+E,oBACtEC,IADsE,EAChE;AACb,SAAKC,UAAL,CAAgBD,IAAhB;AACD,GAH8E;AAK/EC,EAAAA,UAL+E,sBAKpED,IALoE,EAK9D;AACf,QAAME,IAAI,GAAG,KAAKC,UAAL,CAAgBH,IAAhB,CAAb;AACA,QAAMI,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,8BAAvB,CAAhB;AACAF,IAAAA,OAAO,CAACG,kBAAR,CAA2B,WAA3B,EAAwCL,IAAxC;AACD,GAT8E;AAW/EC,EAAAA,UAX+E,sBAWpEH,IAXoE,EAW9D;AACf,4FAE4BA,IAAI,CAAC,SAAD,CAFhC,mDAGyBA,IAAI,CAAC,MAAD,CAH7B;AAMD;AAlB8E,CAAjF","sourcesContent":["import consumer from \"./consumer\"\n\n// consumer.subscriptions.create(\"ChatroomChannel\", {\n//   connected() {\n//     // Called when the subscription is ready for use on the server\n//   },\n\n//   disconnected() {\n//     // Called when the subscription has been terminated by the server\n//   },\n\n//   received(data) {\n//     console.log(\"received\");\n//     $('#message-container').append(data.mod_message)\n//     scroll_bottom()\n//   }\n// });\nconsumer.subscriptions.create({ channel: \"ChatroomChannel\", room: \"Best Room\" }, {\n  received(data) {\n    this.appendLine(data)\n  },\n\n  appendLine(data) {\n    const html = this.createLine(data)\n    const element = document.querySelector(\"[data-chat-room='Best Room']\")\n    element.insertAdjacentHTML(\"beforeend\", html)\n  },\n\n  createLine(data) {\n    return `\n      <article class=\"chat-line\">\n        <span class=\"speaker\">${data[\"sent_by\"]}</span>\n        <span class=\"body\">${data[\"body\"]}</span>\n      </article>\n    `\n  }\n})"]},"metadata":{},"sourceType":"module"}